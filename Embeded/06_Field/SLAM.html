<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.20" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const useChoice = localStorage.getItem('vuepress-color-scheme')
      const systemStatus =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (useChoice === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (useChoice === 'dark' || systemStatus) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <title>LiZhou 学习笔记</title><meta name="description" content="LiZhou Study Notes">
    <link rel="stylesheet" href="/study-notes/assets/css/styles.eff80740.css">
    <link rel="preload" href="/study-notes/assets/js/runtime~app.6e71b361.js" as="script"><link rel="preload" href="/study-notes/assets/css/styles.eff80740.css" as="style"><link rel="preload" href="/study-notes/assets/js/6036.7d799e3b.js" as="script"><link rel="preload" href="/study-notes/assets/js/app.035d3b57.js" as="script">
    <link rel="prefetch" href="/study-notes/assets/js/Base_01_Math.html.c721fa92.js" as="script"><link rel="prefetch" href="/study-notes/assets/js/Embeded_10_Motor_03_永磁10讲.html.386b38bd.js" as="script"><link rel="prefetch" href="/study-notes/assets/js/Embeded_10_Motor_10_FOC.html.88d2e301.js" as="script"><link rel="prefetch" href="/study-notes/assets/js/Embeded_10_Motor_01_Base.html.098e310c.js" as="script"><link rel="prefetch" href="/study-notes/assets/js/Embeded_02_System_020_weidongshan.html.59ce0b49.js" as="script"><link rel="prefetch" href="/study-notes/assets/js/Embeded_03_SOC_ST.html.e4c2fe44.js" as="script"><link rel="prefetch" href="/study-notes/assets/js/Embeded_06_Field_Career.html.76fd4459.js" as="script"><link rel="prefetch" href="/study-notes/assets/js/Embeded_01_Code_021_Algorithms.html.17536f51.js" as="script"><link rel="prefetch" href="/study-notes/assets/js/Embeded_06_Field_Robot.html.20b6ebdd.js" as="script"><link rel="prefetch" href="/study-notes/assets/js/Embeded_04_Driver_Protocol.html.be74ffaf.js" as="script"><link rel="prefetch" href="/study-notes/assets/js/Embeded_02_System_011_FreeRTOS.html.2c4f7466.js" as="script"><link rel="prefetch" href="/study-notes/assets/js/Embeded_05_Hardware_Electronics.html.a6bb75a2.js" as="script"><link rel="prefetch" href="/study-notes/assets/js/Embeded_02_System_013_Linux.html.256c81fa.js" as="script"><link rel="prefetch" href="/study-notes/assets/js/Embeded_03_SOC_ESPRESSIF.html.f56f20f2.js" as="script"><link rel="prefetch" href="/study-notes/assets/js/Embeded_06_Field_Car.html.1445925c.js" as="script"><link rel="prefetch" href="/study-notes/assets/js/Embeded_05_Hardware_PCB.html.1e521b7e.js" as="script"><link rel="prefetch" href="/study-notes/assets/js/Embeded_05_Hardware_Tool.html.22f0a8d5.js" as="script"><link rel="prefetch" href="/study-notes/assets/js/Embeded_05_Hardware_Circuit.html.29cff5f8.js" as="script"><link rel="prefetch" href="/study-notes/assets/js/Embeded_06_Field_AI.html.bc600b38.js" as="script"><link rel="prefetch" href="/study-notes/assets/js/Embeded_01_Code_010_VersionControlSystem.html.aedcc3b1.js" as="script"><link rel="prefetch" href="/study-notes/assets/js/Design_01_Design.html.72a9d9c7.js" as="script"><link rel="prefetch" href="/study-notes/assets/js/Embeded_01_Code_004_Matlab.html.458205d1.js" as="script"><link rel="prefetch" href="/study-notes/assets/js/Embeded_10_Motor_00_Motor.html.13c6e4dd.js" as="script"><link rel="prefetch" href="/study-notes/assets/js/Base_03_mechanics.html.6ae4e01e.js" as="script"><link rel="prefetch" href="/study-notes/assets/js/Embeded_03_SOC_51.html.c5bc6ef9.js" as="script"><link rel="prefetch" href="/study-notes/assets/js/Design_02_CAX.html.e88788d1.js" as="script"><link rel="prefetch" href="/study-notes/assets/js/Embeded_04_Driver_IOT.html.2eccc1d6.js" as="script"><link rel="prefetch" href="/study-notes/assets/js/Embeded_06_Field_SLAM.html.93745467.js" as="script"><link rel="prefetch" href="/study-notes/assets/js/Design_04_TOOL.html.8b7b48c9.js" as="script"><link rel="prefetch" href="/study-notes/assets/js/Embeded_04_Driver_Log.html.25f91089.js" as="script"><link rel="prefetch" href="/study-notes/assets/js/Embeded_10_Motor_11_TIMER.html.4eb05f50.js" as="script"><link rel="prefetch" href="/study-notes/assets/js/Embeded_06_Field_Video.html.c905d2ed.js" as="script"><link rel="prefetch" href="/study-notes/assets/js/Embeded_03_SOC_Raspberry Pi.html.7fefb830.js" as="script"><link rel="prefetch" href="/study-notes/assets/js/Embeded_01_Code_009_DevTool.html.1ad809b4.js" as="script"><link rel="prefetch" href="/study-notes/assets/js/Embeded_02_System_012_RT-Thread.html.9991ddbe.js" as="script"><link rel="prefetch" href="/study-notes/assets/js/Embeded_06_Field_Audio.html.fad407ae.js" as="script"><link rel="prefetch" href="/study-notes/assets/js/Base_06_Electronics.html.3b938fe5.js" as="script"><link rel="prefetch" href="/study-notes/assets/js/Embeded_04_Driver_Storage.html.1fcdef3f.js" as="script"><link rel="prefetch" href="/study-notes/assets/js/Base_02_Physics.html.f88771d3.js" as="script"><link rel="prefetch" href="/study-notes/assets/js/Embeded_02_System_001_OS.html.ebd9a416.js" as="script"><link rel="prefetch" href="/study-notes/assets/js/Design_03_DDC.html.fdb945eb.js" as="script"><link rel="prefetch" href="/study-notes/assets/js/Embeded_06_Field_ElectricalEnergy.html.5fe5928a.js" as="script"><link rel="prefetch" href="/study-notes/assets/js/Embeded_01_Code_001_C.html.45e15f26.js" as="script"><link rel="prefetch" href="/study-notes/assets/js/Embeded_06_Field_TechnologyCollection.html.a0849c1c.js" as="script"><link rel="prefetch" href="/study-notes/assets/js/Embeded_03_SOC_Arduino.html.d0840f6e.js" as="script"><link rel="prefetch" href="/study-notes/assets/js/Embeded_01_Code_022_DesignMode.html.f7667801.js" as="script"><link rel="prefetch" href="/study-notes/assets/js/Embeded_05_Hardware_IC.html.3a3ff3f5.js" as="script"><link rel="prefetch" href="/study-notes/assets/js/Embeded_03_SOC_Canaan.html.22ca4853.js" as="script"><link rel="prefetch" href="/study-notes/assets/js/get-started.html.4895b3af.js" as="script"><link rel="prefetch" href="/study-notes/assets/js/Embeded_04_Driver_Database.html.e3e355d4.js" as="script"><link rel="prefetch" href="/study-notes/assets/js/Embeded_10_Motor_20_MC_FOC.html.3a828c2b.js" as="script"><link rel="prefetch" href="/study-notes/assets/js/Embeded_03_SOC_Board.html.dc51ff11.js" as="script"><link rel="prefetch" href="/study-notes/assets/js/Embeded_01_Code_002_Python.html.d5a21fd2.js" as="script"><link rel="prefetch" href="/study-notes/assets/js/Base_index.html.472a6d77.js" as="script"><link rel="prefetch" href="/study-notes/assets/js/Embeded_04_Driver_Secure.html.de1ee739.js" as="script"><link rel="prefetch" href="/study-notes/assets/js/Embeded_01_Code_020_ComputerSystem.html.094362f1.js" as="script"><link rel="prefetch" href="/study-notes/assets/js/Embeded_03_SOC_other.html.ecd4d1d0.js" as="script"><link rel="prefetch" href="/study-notes/assets/js/Embeded_01_Code_003_Rust.html.7d7d6d17.js" as="script"><link rel="prefetch" href="/study-notes/assets/js/Embeded_06_Field_Armarium.html.edcc7208.js" as="script"><link rel="prefetch" href="/study-notes/assets/js/index.html.4a5d0a5a.js" as="script"><link rel="prefetch" href="/study-notes/assets/js/Embeded_03_SOC_Infineon.html.40e7fec6.js" as="script"><link rel="prefetch" href="/study-notes/assets/js/Embeded_index.html.87ac7181.js" as="script"><link rel="prefetch" href="/study-notes/assets/js/Design_index.html.0995e034.js" as="script"><link rel="prefetch" href="/study-notes/assets/js/Embeded_04_Driver_Virtual.html.f7474034.js" as="script"><link rel="prefetch" href="/study-notes/assets/js/Embeded_02_System_014_openharmory.html.8eed78cd.js" as="script"><link rel="prefetch" href="/study-notes/assets/js/Embeded_06_Field_Consumption.html.caeeff5d.js" as="script"><link rel="prefetch" href="/study-notes/assets/js/Embeded_04_Driver_OTA.html.3d12318a.js" as="script"><link rel="prefetch" href="/study-notes/assets/js/Embeded_10_Motor_30_HW.html.25d871be.js" as="script"><link rel="prefetch" href="/study-notes/assets/js/Base_04_Control.html.05fa9682.js" as="script"><link rel="prefetch" href="/study-notes/assets/js/404.html.b06b23c6.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/study-notes/"><img class="vp-site-logo" src="https://vuejs.press/images/hero.png" alt="LiZhou 学习笔记"><span class="vp-site-name vp-hide-mobile" aria-hidden="true">LiZhou 学习笔记</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="auto-link external-link" href="https://www.github.com/Z-MA" aria-label="Github" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->Github<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://www.Gitee.com/Z-MA" aria-label="Gitee" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->Gitee<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://vuejs.press/zh/" aria-label="VuePress" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->VuePress<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="auto-link external-link" href="https://www.github.com/Z-MA" aria-label="Github" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->Github<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://www.Gitee.com/Z-MA" aria-label="Gitee" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->Gitee<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://vuejs.press/zh/" aria-label="VuePress" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->VuePress<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">Embeded <!----></p><ul class="vp-sidebar-children" style=""><!--[--><li><p tabindex="0" class="vp-sidebar-item collapsible">Code <span class="right arrow"></span></p><ul class="vp-sidebar-children" style="display:none;"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/study-notes/Embeded/01_Code/001_C.html" aria-label="C"><!--[--><!--[--><!--]--><!--]-->C<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/study-notes/Embeded/01_Code/002_Python.html" aria-label="Python"><!--[--><!--[--><!--]--><!--]-->Python<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/study-notes/Embeded/01_Code/003_Rust.html" aria-label="Rust"><!--[--><!--[--><!--]--><!--]-->Rust<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/study-notes/Embeded/01_Code/004_Matlab.html" aria-label="Matlab"><!--[--><!--[--><!--]--><!--]-->Matlab<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/study-notes/Embeded/01_Code/009_DevTool.html" aria-label="开发工具"><!--[--><!--[--><!--]--><!--]-->开发工具<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/study-notes/Embeded/01_Code/010_VersionControlSystem.html" aria-label="版本管理"><!--[--><!--[--><!--]--><!--]-->版本管理<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/study-notes/Embeded/01_Code/020_ComputerSystem.html" aria-label="计算机系统"><!--[--><!--[--><!--]--><!--]-->计算机系统<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/study-notes/Embeded/01_Code/021_Algorithms.html" aria-label="算法"><!--[--><!--[--><!--]--><!--]-->算法<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/study-notes/Embeded/01_Code/022_DesignMode.html" aria-label="设计模式"><!--[--><!--[--><!--]--><!--]-->设计模式<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item collapsible">Motor <span class="right arrow"></span></p><ul class="vp-sidebar-children" style="display:none;"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/study-notes/Embeded/10_Motor/00_Motor.html" aria-label="电机教程"><!--[--><!--[--><!--]--><!--]-->电机教程<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/study-notes/Embeded/10_Motor/01_Base.html" aria-label="电磁基础"><!--[--><!--[--><!--]--><!--]-->电磁基础<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/study-notes/Embeded/10_Motor/03_%E6%B0%B8%E7%A3%8110%E8%AE%B2.html" aria-label="永磁10讲"><!--[--><!--[--><!--]--><!--]-->永磁10讲<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/study-notes/Embeded/10_Motor/10_FOC.html" aria-label="电机控制"><!--[--><!--[--><!--]--><!--]-->电机控制<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/study-notes/Embeded/10_Motor/11_TIMER.html" aria-label="定时器"><!--[--><!--[--><!--]--><!--]-->定时器<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/study-notes/Embeded/10_Motor/20_MC_FOC.html" aria-label="MC_FOC"><!--[--><!--[--><!--]--><!--]-->MC_FOC<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/study-notes/Embeded/10_Motor/30_HW.html" aria-label="电机硬件"><!--[--><!--[--><!--]--><!--]-->电机硬件<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div vp-content><!--[--><!--]--><div><p><a href="https://www.zhihu.com/question/65638680/answer/233896068" target="_blank" rel="noopener noreferrer">北斗导航真的能达到毫米级定位精度吗？</a><a href="https://zhuanlan.zhihu.com/p/510526208" target="_blank" rel="noopener noreferrer">新品新品：冰河导航660RTK双频上市</a><a href="https://www.bilibili.com/video/BV1214y1u741/?spm_id_from=333.999.0.0" target="_blank" rel="noopener noreferrer">IMU的数据如何采集</a><br><a href="https://www.bilibili.com/video/BV1XR4y1A7b2/?spm_id_from=333.999.0.0" target="_blank" rel="noopener noreferrer">RTK差分原理介绍</a><br><a href="https://blog.csdn.net/weixin_33895604/article/details/93930991" target="_blank" rel="noopener noreferrer">GPS坐标（大地坐标）转高斯平面坐标，并计算 GPS 坐标（大地坐标）两点间的距离...</a><a href="https://www.bilibili.com/video/BV1924y1W7re/" target="_blank" rel="noopener noreferrer">可能是北半球最便宜的IMU芯片</a><a href="https://www.bilibili.com/video/BV1MG411J7rJ/" target="_blank" rel="noopener noreferrer">云卓S1定向套装视频教程</a><a href="https://gitee.com/openLuat" target="_blank" rel="noopener noreferrer">合宙Luat - 合宙Luat</a><a href="https://lbs.amap.com/tools/picker" target="_blank" rel="noopener noreferrer">高德地图API</a><a href="https://www.openluat.com/GPS-Offset.html" target="_blank" rel="noopener noreferrer">GPS 定位纠偏 - Luat，让通信更优雅 - 上海合宙通信科技有限公司</a><a href="https://www.huace.cn/about/news_show/34" target="_blank" rel="noopener noreferrer">手机GPS为什么能在室内定位-华测导航</a><a href="https://www.cnblogs.com/osnosn/p/14505778.html" target="_blank" rel="noopener noreferrer">计算GPS WGS_84 两点的距离 - osnosn - 博客园</a><a href="https://blog.csdn.net/weixin_33895604/article/details/93930991" target="_blank" rel="noopener noreferrer">(135条消息) GPS坐标（大地坐标）转高斯平面坐标，并计算 GPS 坐标（大地坐标）两点间的距离..._weixin_33895604的博客-CSDN博客</a><a href="https://blog.csdn.net/qq_45779334/article/details/113122089?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522170278911416800184144768%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=170278911416800184144768&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduend~default-1-113122089-null-null.142%5Ev96%5Epc_search_result_base7&amp;utm_term=Micropython%E2%80%94%E2%80%94%E5%85%AD%E8%BD%B4MPU6050%E6%A8%A1%E5%9D%97%E7%9A%84%E4%BD%BF%E7%94%A8&amp;spm=1018.2226.3001.4187" target="_blank" rel="noopener noreferrer">Micropython——六轴MPU6050模块的使用_mpu6050任意角度校准-CSDN博客</a><a href="https://blog.csdn.net/QWQ_DIODA/article/details/116533025?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522170278908916800182169350%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=170278908916800182169350&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduend~default-1-116533025-null-null.142%5Ev96%5Epc_search_result_base7&amp;utm_term=STM32--MPU6050%20DMP%E8%AF%BB%E8%A7%92%E5%BA%A6%E6%80%BB%E7%BB%93&amp;spm=1018.2226.3001.4187" target="_blank" rel="noopener noreferrer">STM32--MPU6050 DMP读角度总结_mpu6050如何测量角度-CSDN博客</a><a href="https://map.jiqrxx.com/jingweidu/#:~:text=%E7%BB%8F%E7%BA%AC%E5%BA%A6%E6%9F%A5%E8%AF%A2%E5%9C%B0%E5%9B%BE%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95%EF%BC%9A,1%E3%80%81%E7%82%B9%E5%87%BB%E5%9C%B0%E5%9B%BE%E4%B8%8A%E7%9A%84%E4%BB%BB%E6%84%8F%E4%B8%80%E7%82%B9%EF%BC%8C%E5%8D%B3%E5%8F%AF%E6%9F%A5%E7%9C%8B%E8%AF%A5%E5%9C%B0%E7%9A%84%E7%BB%8F%E7%BA%AC%E5%BA%A6%E5%9D%90%E6%A0%87%EF%BC%9B%202%E3%80%81%E5%9C%A8%E6%90%9C%E7%B4%A2%E6%A1%86%E8%BE%93%E5%85%A5%E5%9C%B0%E5%90%8D%E5%90%8E%EF%BC%8C%E7%82%B9%E5%87%BB%E2%80%9C%E8%A7%A3%E6%9E%90%E7%BB%8F%E7%BA%AC%E5%BA%A6%E2%80%9D%EF%BC%8C%E5%8D%B3%E5%8F%AF%E7%9B%B4%E6%8E%A5%E8%BF%9B%E5%85%A5%E5%88%B0%E8%AF%A5%E5%9C%B0%EF%BC%8C%E5%B9%B6%E5%8F%AF%E6%9F%A5%E7%9C%8B%E8%AF%A5%E5%9C%B0%E7%9A%84%E7%BB%8F%E5%BA%A6%E5%92%8C%E7%BA%AC%E5%BA%A6%EF%BC%9B" target="_blank" rel="noopener noreferrer">【经纬度查询】在线地图经度纬度查询|经纬度地名坐标转换</a></p><h4 id="mpu6050官方dmp的移植和使用" tabindex="-1"><a class="header-anchor" href="#mpu6050官方dmp的移植和使用"><span>MPU6050官方DMP的移植和使用</span></a></h4><p>之前在《<a href="http://mp.weixin.qq.com/s?__biz=MjM5NDQ0NjM5Mg==&amp;mid=2650509007&amp;idx=7&amp;sn=1d754a196f8c56f7d4708ad0cfaa9209&amp;chksm=be88839889ff0a8e391345dcaba0d554ab92aa59ef0cc627a733d7348d6cd80cbf322100da76&amp;scene=21#wechat_redirect" target="_blank" rel="noopener noreferrer">MPU6050陀螺仪和加速度计数据的获取与校准</a>》文章中，我们使I2C总线获取了MPU6050的三轴加速度、三轴角速度，并且介绍了一种简单的初始状态校准方法。</p><p>今天，我们继续在已有的底层驱动基础上，移植MPU6050芯片官方的DMP库，来获取角度信息。</p><h5 id="_1、姿态角计算的一些基础知识" tabindex="-1"><a class="header-anchor" href="#_1、姿态角计算的一些基础知识"><span>1、姿态角计算的一些基础知识</span></a></h5><p>在上一节中，我们初始化时约定了Z轴向上，也即知道了初始的角度；再加上后续获取的实时的角速度，利用角速度进行积分，就可以获取姿态角信息。</p><p>在实际编程实现时，积分就是累加和，随着时间的增加，积分（累加）的数据越来越多，误差也会越来越大。因此，单独使用陀螺仪的角速度去计算得到姿态角是不行的，误差会越来越大，需要使用加速度计的值来修正。</p><p>为什么加速度计的值可以来修正角度呢？我们知道，加速度计能测到重力加速度的方向，只要飞行器的运动不算太剧烈，就能近似地认为在一段时间里，加速度计的测量值只有重力，而且姿态角的变化只转过了很小的一个角。</p><p>我们仍以下图为例，假定初始时Z轴向上，绕X轴旋转的角度为滚转角；绕Y轴旋转的角度为俯仰角，绕Z轴旋转的角度为偏航角。</p><p><a href="https://mmbiz.qpic.cn/mmbiz_png/ytiaAdR14jmAOaBAysNhGCFFkMoWbaoDqjLl3y98XzHQ3NG5ictW6jXtj46kwWngZ8tCIsHkU0oJVJOn3UBlNiauw/640?wx_fmt=png&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" target="_blank" rel="noopener noreferrer"><img src="https://mmbiz.qpic.cn/mmbiz_png/ytiaAdR14jmAOaBAysNhGCFFkMoWbaoDqjLl3y98XzHQ3NG5ictW6jXtj46kwWngZ8tCIsHkU0oJVJOn3UBlNiauw/640?wx_fmt=png&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt=""></a></p><p>那么，滚转角（绕X轴转）和俯仰角（绕Y轴转）发生变化时，MPU6050测出来的重力加速度g的方向也会发送变化。而加速度计测出来的重力加速度g的方向是实时的，不会受长时间计算累加的影响。所以，我们可以用加速度计测到的g的方向，来修正陀螺仪积分得到的滚转角和俯仰角。</p><p>而偏航角（绕Z轴转）变化时，MPU6050测到的重力加速度g方向是不会变化的，所以g的方向不能用来修正偏航角。要想修正偏航角，需要测量地磁偏角的传感器信息。</p><p>这个用加速度计或磁力计来修正姿态角的过程，一般称为数据融合，有多种方法实现，如果想要自己写算法实现，有互补滤波、卡尔曼滤波等方法，或者直接使用MPU6050官方提供的DMP库。</p><p>DMP全称Digital Motion Processor，是Invensense公司针对其产品推出的软件包，能直接输出四元数，可以减轻外围微处理器的工作负担且避免了繁琐的滤波和数据融合，适用于MPU6050、MPU6500、MPU9150、MPU9250等传感器。本文就是重点介绍DMP库的移植和使用。</p><p>这里再提一点浅显的四元数的知识，四元数是一种表示姿态角的方法，可以认为四元数等价为滚转角、俯仰角、偏航角。在姿态解算时，之所以要使用四元数，是因为它可以简化姿态更新的计算过程。</p><p>MPU6050的DMP库能直接输出四元数，是将陀螺仪的角速度、加速度计的加速度融合之后的结果，由该输出的四元数表示的姿态角是经过加速度计修正过的。</p><h5 id="_2、mpu6050官方dmp库的移植" tabindex="-1"><a class="header-anchor" href="#_2、mpu6050官方dmp库的移植"><span>2、MPU6050官方DMP库的移植</span></a></h5><p>MPU6050官方的DMP库是适用于MSP430的，我们使用时，需要简单地移植一下。</p><p>这里使用的是5.1版本的库，官方库一共只有下面这几个文件：</p><p><a href="https://mmbiz.qpic.cn/mmbiz_png/ytiaAdR14jmAOaBAysNhGCFFkMoWbaoDqqBLN5NmR3FTaMe7TKTthSXy1ad3S60tpCNDlhBxbyNNaQ9koRiagh7g/640?wx_fmt=png&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" target="_blank" rel="noopener noreferrer"><img src="https://mmbiz.qpic.cn/mmbiz_png/ytiaAdR14jmAOaBAysNhGCFFkMoWbaoDqqBLN5NmR3FTaMe7TKTthSXy1ad3S60tpCNDlhBxbyNNaQ9koRiagh7g/640?wx_fmt=png&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt=""></a></p><p>另外官方库中有一个适用于MSP430单片机的app程序，就是motion_driver_test.c文件，但是这个文件里有比较多的和上位机通信用的测试代码，实际需要的很少，我们可以参考它写自己的应用程序。</p><p>下面，我们就开始移植DMP库。</p><p>首先，将上图的文件都拷贝到已有的MPU6050工程目录下，添加到keil工程中。</p><p>打开inv_mpu.c文件，可以看到文件起始有一串宏定义，这是我们需要移植的主要部分。</p><p>文件中可以看到定义了几种处理器类型，以MSP430为例，定义了I2C读写函数i2c_write、i2c_read，延时函数delay_ms、get_ms，打印log函数、取绝对值函数、比较大小函数等等。我们仿照它编写适用于STM32的函数如下：</p><p>I2C的读写适用HAL库的读写函数实现，延时函数也使用HAL已有的HAL_Delay和HAL_GetTick实现。</p><p><a href="https://mmbiz.qpic.cn/mmbiz_png/ytiaAdR14jmAOaBAysNhGCFFkMoWbaoDqNkmyhqMZGs2X3WZvZwvqwE1QCQ0739lRxflqBRZPHIhlMK2FEUjo2g/640?wx_fmt=png&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" target="_blank" rel="noopener noreferrer"><img src="https://mmbiz.qpic.cn/mmbiz_png/ytiaAdR14jmAOaBAysNhGCFFkMoWbaoDqNkmyhqMZGs2X3WZvZwvqwE1QCQ0739lRxflqBRZPHIhlMK2FEUjo2g/640?wx_fmt=png&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt=""></a></p><p>找到inv_mpu.c文件中的mpu_init函数，将其中下面几行注释掉：</p><p><a href="https://mmbiz.qpic.cn/mmbiz_png/ytiaAdR14jmAOaBAysNhGCFFkMoWbaoDqo7JcU84bKqXfLe7DzkACt82SceNxaq6ibtwkB0zTGjIicezWNdkLvm7g/640?wx_fmt=png&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" target="_blank" rel="noopener noreferrer"><img src="https://mmbiz.qpic.cn/mmbiz_png/ytiaAdR14jmAOaBAysNhGCFFkMoWbaoDqo7JcU84bKqXfLe7DzkACt82SceNxaq6ibtwkB0zTGjIicezWNdkLvm7g/640?wx_fmt=png&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt=""></a></p><p>在inv_mpu.h文件中找到struct int_param_s{}结构体定义的地方，在里面增加一个成员void *temp，否则编译会报错，因为我们没有定义结构体中的宏，会导致结构体内是空的（使用其他的修改方式也行，只要没有语法错误，能编译通过就行）：</p><p>在inv_mpu_dmp_motion_driver.c这个文件中，开始处添加宏定义，与inv_mpu.c中的实现是一样的：</p><p><a href="https://mmbiz.qpic.cn/mmbiz_png/ytiaAdR14jmAOaBAysNhGCFFkMoWbaoDqbU2xjzJzk3iaxTY6T5E0J09PehFSsPnu3E5TJB2hvZvzZZfnb0dicVIw/640?wx_fmt=png&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" target="_blank" rel="noopener noreferrer"><img src="https://mmbiz.qpic.cn/mmbiz_png/ytiaAdR14jmAOaBAysNhGCFFkMoWbaoDqbU2xjzJzk3iaxTY6T5E0J09PehFSsPnu3E5TJB2hvZvzZZfnb0dicVIw/640?wx_fmt=png&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt=""></a></p><p>做完上面这些，编译可以通过，MPU6050官方的DMP库就移植好了。</p><h5 id="_3、mpu6050的dmp库使用" tabindex="-1"><a class="header-anchor" href="#_3、mpu6050的dmp库使用"><span>3、MPU6050的DMP库使用</span></a></h5><p>移植完以后，我们可以参照官方的例子motion_driver_test.c，来编写我们自己的应用程序。主要就是两步：初始化和循环获取数据。</p><p>首先我们看初始化，就是mpu_dmp_init这个函数，具体的实现如下：</p><p><a href="https://mmbiz.qpic.cn/mmbiz_png/ytiaAdR14jmAOaBAysNhGCFFkMoWbaoDqob6toLsTxVNDeaiaRCbTKUJo7Ee2qlCJ7gtfNRo8DB7nlgOpwRylPZg/640?wx_fmt=png&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" target="_blank" rel="noopener noreferrer"><img src="https://mmbiz.qpic.cn/mmbiz_png/ytiaAdR14jmAOaBAysNhGCFFkMoWbaoDqob6toLsTxVNDeaiaRCbTKUJo7Ee2qlCJ7gtfNRo8DB7nlgOpwRylPZg/640?wx_fmt=png&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt=""></a></p><p>具体每个步骤的含义注释都有，函数实现也是官方例子里都有的，就不一一解释了。</p><p>需要注意的是，执行run_self_test()这一步时，调用了mpu_run_self_test这个函数，官方的函数说明中，要求自行自检时，Z轴竖直向上或者竖直向下：</p><p><a href="https://mmbiz.qpic.cn/mmbiz_png/ytiaAdR14jmAOaBAysNhGCFFkMoWbaoDqN7NK0xrvGDsXJMPLfCJn3mO48n6ADWSm6Dic3rMb5M6s7svmvDDdNzw/640?wx_fmt=png&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" target="_blank" rel="noopener noreferrer"><img src="https://mmbiz.qpic.cn/mmbiz_png/ytiaAdR14jmAOaBAysNhGCFFkMoWbaoDqN7NK0xrvGDsXJMPLfCJn3mO48n6ADWSm6Dic3rMb5M6s7svmvDDdNzw/640?wx_fmt=png&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt=""></a></p><p>获取数据的函数如下：</p><p>就是调用dmp_read_fifo函数，获取融合后的四元数，放在quat数组中；然后将四元数，除以1073741824.0f（q30）的系数，再计算反三角函数得到俯仰角、滚转角、偏航角：</p><p><a href="https://mmbiz.qpic.cn/mmbiz_png/ytiaAdR14jmAOaBAysNhGCFFkMoWbaoDqtWqBmoRic34IKCLYDlOibj5K0GicRMeKQbV3vW4CSJTZnNXVJqgHajrBA/640?wx_fmt=png&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" target="_blank" rel="noopener noreferrer"><img src="https://mmbiz.qpic.cn/mmbiz_png/ytiaAdR14jmAOaBAysNhGCFFkMoWbaoDqtWqBmoRic34IKCLYDlOibj5K0GicRMeKQbV3vW4CSJTZnNXVJqgHajrBA/640?wx_fmt=png&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt=""></a></p><p>整个测试函数如下所示，先调用mpu_dmp_init初始化，然后主循环中周期性地调用mpu_dmp_get_data获取姿态角：</p><p><a href="https://mmbiz.qpic.cn/mmbiz_png/ytiaAdR14jmAOaBAysNhGCFFkMoWbaoDqRHmMLThSTobZ3XulFfQKLyPvicTA1jMfjia1lMQW0xicJtrv8thGmWAqA/640?wx_fmt=png&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" target="_blank" rel="noopener noreferrer"><img src="https://mmbiz.qpic.cn/mmbiz_png/ytiaAdR14jmAOaBAysNhGCFFkMoWbaoDqRHmMLThSTobZ3XulFfQKLyPvicTA1jMfjia1lMQW0xicJtrv8thGmWAqA/640?wx_fmt=png&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt=""></a></p><p>将DMP_test函数放到main函数硬件初始化之后。编译下载运行。</p><p>可以看到，初始时输出的姿态角：</p><p><a href="https://mmbiz.qpic.cn/mmbiz_png/ytiaAdR14jmAOaBAysNhGCFFkMoWbaoDqPPBzjsKicqjAibAoCvOYictIHw4O6icTwBzhD8U6BlImKc2GqgRfw9moWw/640?wx_fmt=png&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" target="_blank" rel="noopener noreferrer"><img src="https://mmbiz.qpic.cn/mmbiz_png/ytiaAdR14jmAOaBAysNhGCFFkMoWbaoDqPPBzjsKicqjAibAoCvOYictIHw4O6icTwBzhD8U6BlImKc2GqgRfw9moWw/640?wx_fmt=png&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt=""></a></p><p>运动中输出的姿态角：</p><p><a href="https://mmbiz.qpic.cn/mmbiz_png/ytiaAdR14jmAOaBAysNhGCFFkMoWbaoDqU3fJJsT7Xk5EZtsn8ZUAUQWCib6eicTXRbZBRRmKRRtTZC2tPQvnC01Q/640?wx_fmt=png&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" target="_blank" rel="noopener noreferrer"><img src="https://mmbiz.qpic.cn/mmbiz_png/ytiaAdR14jmAOaBAysNhGCFFkMoWbaoDqU3fJJsT7Xk5EZtsn8ZUAUQWCib6eicTXRbZBRRmKRRtTZC2tPQvnC01Q/640?wx_fmt=png&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt=""></a></p><p>长时间运行，也能保持较高的准确度，姿态角不会产生误差累积，说明DMP库起到了融合陀螺仪和加速度计数据的作用。</p><p>好了，本节关于MPU6050的DMP库的移植和使用就讲到这里了，希望这篇文章能对大家有所帮助。</p><h4 id="其他" tabindex="-1"><a class="header-anchor" href="#其他"><span>其他</span></a></h4><blockquote><p>[!info] 如何系统的学习机器人导航（robotics navigation）？<br> 自动驾驶从业者，与定位组件有过接触，虽然无法提供系统的学习建议，但觉得题主大概率会慢慢接触到 GPS/I...<br><a href="https://www.zhihu.com/question/451550176/answer/1803405379" target="_blank" rel="noopener noreferrer">https://www.zhihu.com/question/451550176/answer/1803405379</a></p></blockquote><p><a href="http://www.elecfans.com/d/586741.html" target="_blank" rel="noopener noreferrer">10种室内定位技术原理深度解析-电子发烧友网</a></p><p><a href="https://blog.csdn.net/qq_45779334/article/details/113122089" target="_blank" rel="noopener noreferrer">(134条消息) Micropython——六轴MPU6050模块的使用_Irving.Gao的博客-CSDN博客</a></p><p><a href="https://blog.csdn.net/acktomas/article/details/102461770" target="_blank" rel="noopener noreferrer">(134条消息) 使用MPU6050 DIY Arduino倾角仪_acktomas的博客-CSDN博客</a></p><p><a href="https://blog.csdn.net/qq_38288618/article/details/77320646" target="_blank" rel="noopener noreferrer">(134条消息) mpu6050加速度角速度融合为四元数计算函数的说明_大志的博客-CSDN博客</a></p><p><a href="https://blog.csdn.net/weixin_30835933/article/details/99920397" target="_blank" rel="noopener noreferrer">(135条消息) MPU6050应用详解_weixin_30835933的博客-CSDN博客</a></p><p><a href="https://blog.csdn.net/Fred_1986/article/details/108397146?spm=1001.2101.3001.6650.1&amp;utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7Edefault-1.no_search_link&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7Edefault-1.no_search_link" target="_blank" rel="noopener noreferrer">(134条消息) 如何把MPU6050输出的加速度和角速度换算成角度_Fred_1986的博客-CSDN博客</a></p><p><a href="https://blog.csdn.net/jickjiang/article/details/84237863" target="_blank" rel="noopener noreferrer">(134条消息) MPU6050的数据获取、分析与处理_jickjiang的博客-CSDN博客_mpu6050输出的数据是什么</a></p><p><a href="https://blog.csdn.net/Fred_1986/article/details/108522529?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522163773589516780357217271%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fall.%2522%257D&amp;request_id=163773589516780357217271&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_ecpm_v1~rank_v31_ecpm-14-108522529.first_rank_v2_pc_rank_v29&amp;utm_term=mpu6050%E8%AE%A1%E7%AE%97%E8%A7%92%E5%BA%A6&amp;spm=1018.2226.3001.4187" target="_blank" rel="noopener noreferrer">(134条消息) MPU 6050姿态角度融合算法_Fred_1986的博客-CSDN博客</a></p><p><a href="https://blog.csdn.net/guohengsheng3882/article/details/90672642" target="_blank" rel="noopener noreferrer">(133条消息) ESP-12F驱动MPU6050使用DMP库姿态解算_明镜台-CSDN博客</a></p></div><!--[--><!--]--></div><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">最近更新：: </span><time class="meta-item-info" datetime="2025-10-15T14:39:21.000Z" data-allow-mismatch>2025/10/15 14:39</time></div><div class="vp-meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: mlh18@qq.com">malihang</span><!----><!--]--><!--]--></span></div></div></footer><!----><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script src="/study-notes/assets/js/runtime~app.6e71b361.js" defer></script><script src="/study-notes/assets/js/6036.7d799e3b.js" defer></script><script src="/study-notes/assets/js/app.035d3b57.js" defer></script>
  </body>
</html>
